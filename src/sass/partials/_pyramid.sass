
.pyramid
  --_pyramid-width: 560px
  --_pyramid-gap-x: 35px
  --_pyramid-gradient-rotate: 90deg
  display: grid
  grid-template-columns: var(--_pyramid-width) auto
  gap: 0 var(--_pyramid-gap-x)
  +m
    --_pyramid-width: 480px
  +s
    --_pyramid-gradient-rotate: 180deg
    --_pyramid-width: 560px
    grid-template-columns: 1fr
    gap: 0
    max-width: 560px
    margin-left: auto
    margin-right: auto
  +sm
    --_pyramid-width: 480px
    grid-template-columns: auto var(--_pyramid-width) auto

  +xs
    --_pyramid-width: 380px
  +xxs
    --_pyramid-width: 300px

  &__figure
    position: absolute
    top: 0
    left: 0
    right: 0
    bottom: 0
    z-index: -1
    svg
      width: 100%
      height: auto

  &__head
    grid-column: 1/2
    margin-left: auto
    margin-right: auto
    display: flex
    align-items: center
    text-align: center
    font-size: 14px
    font-weight: 700
    color: #fff
    text-transform: uppercase
    line-height: 1.2
    position: relative
    z-index: 2
    padding-top: 9%
    border: none

    background: transparent
    +sm
      grid-column: 2/3
    +xs
      font-size: 11px
    +xxs
      font-size: 10px
    &--1
      z-index: 4
      width: calc(var(--_pyramid-width) - 65.9%)
      padding-left: 5%
      padding-right: 8%
      padding-top: 15%

      clip-path: polygon(49% 0, 98% 88%, 88.3% 100%, 0% 104%)
      word-break: break-word
      aspect-ratio: 3.31/3

      & + .pyramid__content:before
        background: linear-gradient(var(--_pyramid-gradient-rotate), rgba(255, 0, 117, 0.16) 0%, rgba(24, 24, 24, 0.16) 100%)
        +s
          width: 280px
          clip-path: polygon(17.6% 0%, 79.5% 0%, 100% 100%, 0% 100%)
          top: -21px
        +sm
          width: 243px
          margin-left: -2px
          top: -17px
        +xs
          width: 189px
          margin-left: -4px
          top: -14px
        +xxs
          width: 146px

      &:hover, &:focus-visible, &.is-active
        .pyramid__figure
          .p-front
            fill: #FF2C8D
            box-shadow: 0px 0px 80px rgba(71, 7, 216, 0.50)
          .p-end
            fill: #F10873

    &--2
      z-index: 3
      width: calc(var(--_pyramid-width) - 32%)
      padding-left: 9%
      padding-right: 15%
      clip-path: polygon(34.45% 0%, 76.8% 0%, 98.6% 77%, 88.2% 100%, 1% 100%, 22% 13.6%)
      aspect-ratio: 6.55/3
      margin-top: -1px
      +xs
        margin-top: -2px
      & + .pyramid__content:before
        background: linear-gradient(var(--_pyramid-gradient-rotate), rgba(10, 197, 38, 0.16) 0.05%, rgba(24, 24, 24, 0.16) 98.92%)
        +s
          width: var(--_pyramid-width)
          clip-path: polygon(18.6% 0%, 81.5% 0%, 100% 100%, 0% 100%)
          top: -38px

        +xs
          width: calc(var(--_pyramid-width) - 12px)
          top: -31px
          margin-left: -2px
        +xxs
          width: calc(var(--_pyramid-width) - 19px)
          margin-left: -4px

      &:hover, &:focus-visible, &.is-active
        .pyramid__figure
          .p-front
            fill: #1EE43C
            box-shadow: 0px 0px 80px rgba(71, 7, 216, 0.50)
          .p-end
            fill: #00B21B
          .p-top
            fill: #0AC526

    &--3
      margin-top: -20px
      width: var(--_pyramid-width)
      padding-left: 12%
      padding-right: 19%
      clip-path: polygon(30% 0%, 84.7% 0, 98.1% 68%, 89.8% 100%, 1% 100%, 15% 23%)
      aspect-ratio: 8.7/3
      +xs
        margin-top: -12px
      & + .pyramid__content:before
        background: linear-gradient(var(--_pyramid-gradient-rotate), rgba(71, 7, 216, 0.16) 0%, rgba(24, 24, 24, 0.16) 100%)
        +s
          width: calc(var(--_pyramid-width) + 207px)
          clip-path: polygon(17% 0%, 83.8% 0%, 100% 100%, 0% 100%)
          top: -60px
        +sm
          width: calc(var(--_pyramid-width) + 166px)
        +xs
          width: calc(var(--_pyramid-width) + 139px)
          top: -43px
          margin-left: -4px
        +xxs
          width: calc(var(--_pyramid-width) + 96px)

      &:hover, &:focus-visible, &.is-active
        .pyramid__figure
          .p-front
            fill: #5C1BF0
            box-shadow: 0px 0px 80px rgba(71, 7, 216, 0.50)
          .p-end
            fill: #3C00C6
          .p-top
            fill: #4707D8
  &__content
    grid-column: 2/3
    grid-row: 1/5
    display: none
    font-size: 14px
    line-height: 1.4
    color: #fff
    padding: 70px 0 40px
    position: relative
    z-index: 1
    +s
      grid-column: 1/2
      grid-row: auto
      padding-top: 30px
      padding-bottom: 30px
      &:last-child
        padding-bottom: 0
    +sm
      grid-column: 1/4
      font-size: 12px

    &:before
      content: ''
      z-index: -4
      position: absolute
      top: 0
      left: calc(((var(--_pyramid-width) / 2) + var(--_pyramid-gap-x)) * -1)
      bottom: 0
      width: calc(100% + (var(--_pyramid-width) / 2))

      +s
        bottom: auto
        max-height: 100%
        left: calc(50% + 10px)
        transform: translate(-50%, 0)
        aspect-ratio: 9/3

    &.is-active
      display: block
    h3
      font-size: 20px
      font-weight: 700
      text-transform: uppercase
      margin-bottom: 20px
      line-height: 1
      +s
        text-align: center
      +sm
        font-size: 16px
      +xs
        font-size: 14px
    p
      margin-bottom: 15px

    ul
      list-style-type: disc
      margin-left: 1.1em
      li
        margin-bottom: 7px
        &:last-child
          margin-bottom: 0

.pyramid-pagination
  display: flex
  justify-content: center
  gap: 3px
  margin-top: 50px
  +s
    display: none
  span
    width: 160px
    height: 4px
    cursor: pointer
    border-radius: 4px
    background: var(--colorDark200ToWhite200)
    position: relative
    &:hover, &:focus-visible
      background: var(--colorGray3ToGrayE)
    &:before
      content: ''
      width: 0
      height: 100%
      position: absolute
      left: 0
      top: 0
      border-radius: inherit

    &.is-active:before
      width: 100%
    //   animation: pagination 8s linear
    // &.is-disabled:before
    //   animation-play-state: paused
    // &:not(.is-disabled):before
    //   animation-play-state: running
    &:nth-child(1)
      &:before
        background: #4707D8
    &:nth-child(2)
      &:before
        background: #0AC526
    &:nth-child(3)
      &:before
        background: #FF0075

@keyframes pagination
  0%
    width: 0
  100%
    width: 100%
